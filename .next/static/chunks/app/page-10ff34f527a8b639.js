(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{54:a=>{a.exports={grid:"fenlei1_grid__gOPvw",div:"fenlei1_div__L6mQ2",div1:"fenlei1_div1___JXkN",div2:"fenlei1_div2__XTHYE",div3:"fenlei1_div3__dN3AF"}},127:(a,n,e)=>{Promise.resolve().then(e.bind(e,5460))},287:a=>{a.exports={xiaodaohang:"xiaodaohang_xiaodaohang__A8bTA",xiaodaohang1:"xiaodaohang_xiaodaohang1__yM_lG",xiaodaohang2:"xiaodaohang_xiaodaohang2__qcYIO",xiaodaohang3:"xiaodaohang_xiaodaohang3__dFSp7",xiaodaohang4:"xiaodaohang_xiaodaohang4__Vea4e",zhu:"xiaodaohang_zhu__QTMYS"}},1978:(a,n,e)=>{"use strict";let s;e.d(n,{P:()=>u});var t=e(5453),i=e(3464);let o=(a,n)=>({shangping:[],time:0,wangluo:!0,huanchun:[],chongshi:async a=>{let{huanchun:e}=n(),s=e.find(a=>!1==a.is);setTimeout(async()=>{s.banben==s.oldbanben-1&&await i.A.post("/api/gouwuche?id=".concat(a),{id:a,chaozhuo:"加",banben:s.banben})},3e3)},settongbu:async()=>{let e=n().user;try{let n=await i.A.get("/api/gouwuche?id=".concat(e)).then(a=>a.data);console.log(n),n.ss&&(n.ss.shuju=n.ss.shuju.map(a=>({id:a.id,shu:a.shu,banben:-1})),console.log(n.ss.shuju),a(()=>({shangping:n.ss.shuju})))}catch(a){console.log(a)}},shangpingjia:async e=>{if(!n().wangluo||Date.now()-n().time<500)return;a(a=>{a.time=Date.now();let n=a.shangping.find(a=>a.id==e);return(console.log(n),n)?{shangping:a.shangping.map(a=>a.id==e?{id:e,shu:a.shu+1,banben:a.banben+1}:a)}:{shangping:[...a.shangping,{id:e,shu:1,banben:0}]}});let s=n().user,t=n().shangping.find(a=>a.id==e);try{await i.A.post("/api/gouwuche?id=".concat(s),{id:e,chaozhuo:"加",banben:t.banben}).then(a=>{a.data,console.log(a.data)})}catch(s){if(console.log(s),i.A.isAxiosError(s)){if(409==s.request.status){var o,l;console.log("版本冲突正在重试",null==(o=s.response)?void 0:o.data);let e=null==(l=s.response)?void 0:l.data;a(a=>({huanchun:a.huanchun.push({is:!1,key:"/api/gouwuche?id=".concat(e.id),banben:t.banben,oldbanben:e.banben,chaozhuo:e.chaozhuo})})),n().chongshi()}}else alert("错误请重试");a(a=>a.shangping.find(a=>a.id===e).shu<=1?{shangping:a.shangping.filter(a=>1!=a.shu)}:{shangping:a.shangping.map(a=>a.id==e?{id:e,shu:a.shu-1}:a)})}},shangpingjian:async e=>{if(n().shangping.find(a=>a.id==e).shu<=1)return alert("减不了了");if(!n().wangluo||Date.now()-n().time<500)return;a(a=>({shangping:a.shangping.map(a=>a.id==e?{id:e,shu:a.shu-1,banben:a.banben+1}:a)}));let s=n().user,t=n().shangping.find(a=>a.id==e);try{await i.A.post("/api/gouwuche?id=".concat(s),{id:e,chaozhuo:"减",banben:t.banben}).then(a=>{a.data,console.log(a.data)})}catch(s){if(console.log(s),i.A.isAxiosError(s)&&409==s.request.status){var o,l;console.log("版本冲突正在重试",null==(o=s.response)?void 0:o.data);let e=null==(l=s.response)?void 0:l.data;a(a=>({huanchun:a.huanchun.push({is:!1,key:"/api/gouwuche?id=".concat(e.id),banben:t.banben,oldbanben:e.banben,chaozhuo:e.chaozhuo})})),n().chongshi()}alert("错误请重试"),a(a=>({shangping:a.shangping.map(a=>a.id==e?{id:e,shu:a.shu+1}:a)}))}}}),l=(a,n)=>({user:null,isLoggedIn:!1,log:()=>{a({isLoggedIn:!0}),n().settongbu(),i.A.post("/api/gouwuche?cz=1").then(a=>console.log(a.data))},logout:()=>a({isLoggedIn:!1,user:null}),setuser:n=>a({user:n})}),u=(0,t.v)((s=(a,n)=>({...o(a,n),...l(a,n)}),(a,n,e)=>s(n=>(window.addEventListener("offline",()=>a({wangluo:!1})),window.addEventListener("online",()=>a({wangluo:!0})),a(n)),n,e)))},2241:a=>{a.exports={shousuo:"top_shousuo__jWNzm",top:"top_top__qVwTk",geitupianyong:"top_geitupianyong__SlG9Y",shousuolan:"top_shousuolan__H6K3E",shousuoanliu:"top_shousuoanliu__GLvNR"}},4245:a=>{a.exports={shangping:"sangping_shangping__ERnef",text:"sangping_text__wrlyt",text1:"sangping_text1__0rfse"}},4513:a=>{a.exports={tupian:"tupian_tupian__AmXKw",tupian1:"tupian_tupian1__FHWW0",tupian2:"tupian_tupian2__qZVTS",tupian3:"tupian_tupian3__O6fDO",tupian4:"tupian_tupian4__5OeLA",tupian5:"tupian_tupian5__fmgMM",tupian6:"tupian_tupian6__IG6LO",tupian7:"tupian_tupian7__UiD3U",butt:"tupian_butt__giz9F",button:"tupian_button__Hs_St",zhu:"tupian_zhu__qisJn",lunbou:"tupian_lunbou__hHKPZ"}},5101:a=>{a.exports={zhu:"page_zhu__Ydpa4",daohang:"page_daohang__xt5dG",daohang1:"page_daohang1__y7IuO",daohang2:"page_daohang2__pqkYu",daohangbiaoqian:"page_daohangbiaoqian___ABzM",xiantext:"page_xiantext__cL_qj",jiantou:"page_jiantou__z0BFO",daohang3:"page_daohang3__UxqYJ",xiantext1:"page_xiantext1__YDmM0",xiantext2:"page_xiantext2__v6GOy"}},5460:(a,n,e)=>{"use strict";e.d(n,{default:()=>A});var s=e(5155),t=e(6766),i=e(5101),o=e.n(i),l=e(2241),u=e.n(l),c=e(287),r=e.n(c),d=e(54),h=e.n(d),g=e(3315),x=e(3464),_=e(2115);let p=function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{throttleTime:e=800,debounceTime:s=500,threshold:t=300}=n,i=(0,_.useRef)(0),o=(0,_.useRef)(null),l=(0,_.useRef)(!0),u=(0,_.useRef)(0),c=(0,_.useCallback)(()=>{u.current=window.scrollY},[]);(0,_.useEffect)(()=>(window.addEventListener("beforeunload",c),l.current=!0,()=>{l.current=!1,window.removeEventListener("beforeunload",c),o.current&&clearTimeout(o.current)}),[c]);let r=(0,_.useCallback)(()=>{let{scrollTop:a,scrollHeight:n,clientHeight:e}=document.documentElement;return n-(a+e)<t},[t]),d=(0,_.useCallback)(()=>{l.current&&r()&&(i.current=Date.now(),a())},[a,r]),h=(0,_.useCallback)(()=>{c();let a=Date.now()-i.current;if(a<e){o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d()},e-a+s);return}o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d()},s)},[c,r,e,s,d]);(0,_.useEffect)(()=>{let a=()=>{requestAnimationFrame(h)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[h])};var m=e(4245),j=e.n(m);function b(a){let{product:n}=a;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:j().shangping,children:[(0,s.jsx)("div",{className:j().text,children:n.name}),(0,s.jsx)("div",{className:j().text1,children:n.miaoshu})]})})}var N=e(6874),v=e.n(N);let f=a=>x.A.get(a).then(a=>a.data),w=(a,n)=>"/api/shuju?page=".concat(a+1);function y(){let{data:a,error:n,size:e,setSize:t}=(0,g.Ay)(w,f,{revalidateFirstPage:!1,parallel:!0}),i=(null==a?void 0:a.flatMap(a=>a.shuju))||[];return p(()=>{t(e+1)}),(0,s.jsx)(s.Fragment,{children:i.map(a=>(0,s.jsx)(v(),{href:"/about/xiangqing/"+a.id,children:(0,s.jsx)(b,{product:a})},a.id))})}var q=e(4513),z=e.n(q);function E(){let[a,n]=(0,_.useState)(0),e=(0,_.useRef)(!0),[t,i]=(0,_.useState)({});(0,_.useRef)(null);let o=()=>e.current=!0,l=()=>e.current=!1,u=z().lunbou;(0,_.useEffect)(()=>{let a=setInterval(()=>{e.current&&n(a=>a+1)},5e3);return()=>clearInterval(a)},[e.current]),(0,_.useEffect)(()=>{i({transform:"translateY(-".concat(100*a,"%)"),transition:"transform 0.5s ease-in-out"}),5==a&&setTimeout(()=>(i({transform:"translateY(-".concat(0,"%)"),transition:"none"}),setTimeout(()=>n(0),100)),500)},[a]);let c=a=>{i({transform:"translateY(-".concat(100*a,"%)"),transition:"transform 0.5s ease-in-out"}),setTimeout(()=>{n(a)},500)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:z().tupian,onMouseOver:()=>{l(),console.log("关",a,console.log(e.current))},onMouseLeave:()=>{o(),console.log("开",a),console.log(e.current)},children:[(0,s.jsx)("a",{className:"".concat(z().tupian1),style:{...t}}),(0,s.jsx)("a",{className:z().tupian2,style:{...t}}),(0,s.jsx)("a",{className:z().tupian3,style:{...t}}),(0,s.jsx)("a",{className:z().tupian4,style:{...t}}),(0,s.jsx)("a",{className:z().tupian5,style:{...t}}),(0,s.jsx)("a",{className:z().tupian7,style:{...t}}),(0,s.jsxs)("ul",{className:z().zhu,children:[(0,s.jsx)("li",{className:"".concat(z().butt," ").concat(a+1==1?u:null," "),onClick:()=>c(0),children:(0,s.jsx)("button",{className:z().button})}),(0,s.jsx)("li",{className:"".concat(z().butt," ").concat(a+1==2?u:null," "),onClick:()=>c(1),children:(0,s.jsx)("button",{className:z().button})}),(0,s.jsx)("li",{className:"".concat(z().butt," ").concat(a+1==3?u:null," "),onClick:()=>c(2),children:(0,s.jsx)("button",{className:z().button})}),(0,s.jsx)("li",{className:"".concat(z().butt," ").concat(a+1==4?u:null," "),onClick:()=>c(3),children:(0,s.jsx)("button",{className:z().button})}),(0,s.jsx)("li",{className:"".concat(z().butt," ").concat(a+1==5?u:null," "),onClick:()=>c(4),children:(0,s.jsx)("button",{className:z().button})})]})]})})}var k=e(1978);function A(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:o().zhu,children:[(0,s.jsx)(F,{}),(0,s.jsx)(L,{}),(0,s.jsx)(T,{}),(0,s.jsxs)("div",{className:h().grid,children:[(0,s.jsx)(E,{}),(0,s.jsx)(C,{})]}),(0,s.jsx)(y,{})]})})}function F(){let[a,n]=(0,_.useState)(new Date),e=(0,k.P)(a=>a.user),t=(0,k.P)(a=>a.isLoggedIn),i=(0,k.P)(a=>a.logout);(0,_.useEffect)(()=>{let a=setInterval(()=>n(new Date),1e3);return()=>clearInterval(a)},[]);let l=6>a.getHours()||a.getHours()>18?"晚上好":a.getHours()>12?"下午好":"上午好";return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:o().daohang,children:(0,s.jsxs)("div",{className:o().daohang1,children:[(0,s.jsxs)("ul",{className:o().daohang2,children:[(0,s.jsx)("li",{className:o().daohangbiaoqian,children:"中国大陆"}),t?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("li",{className:"".concat(o().daohangbiaoqian),children:[e,"号用户,欢迎",(0,s.jsx)("div",{className:o().xiantext,children:(0,s.jsx)("div",{className:o().xiantext1,children:(0,s.jsx)("a",{className:o().xiantext2,onClick:()=>{i(),location.reload()},children:"退出登录"})})})]})}):(0,s.jsx)(v(),{className:o().daohangbiaoqian,href:"/about/denglu/",children:"宝贝,请登录 注册免费"}),(0,s.jsx)("li",{className:o().daohangbiaoqian,children:"网页无障碍(待做)"})]}),(0,s.jsxs)("ul",{className:o().daohang3,children:[(0,s.jsx)("li",{className:o().daohangbiaoqian,children:"现在是北京时间:".concat(a.toLocaleTimeString("zh-CN"),",").concat(l)}),(0,s.jsx)("li",{className:o().daohangbiaoqian,children:t?(0,s.jsx)(v(),{href:"/about/gouwuche/?id=".concat(e),prefetch:!0,className:o().shouchang,children:"购物车"}):(0,s.jsx)(v(),{href:"/about/denglu/",prefetch:!0,className:o().shouchang,children:"购物车"})}),(0,s.jsxs)("li",{className:o().daohangbiaoqian,children:[(0,s.jsx)("span",{className:o().shouchang,children:"收藏(待做)"}),(0,s.jsx)("span",{className:o().jiantou,children:">"}),(0,s.jsx)("div",{className:o().xiantext,children:(0,s.jsxs)("div",{className:o().xiantext1,children:[(0,s.jsx)("a",{className:o().xiantext2,children:"收藏的商品"}),(0,s.jsx)("a",{className:o().xiantext2,children:"收藏的店铺"})]})})]}),(0,s.jsx)("li",{className:o().daohangbiaoqian,children:"卖家中心(待做)"})]})]})})})}function L(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:u().shousuo,children:(0,s.jsxs)("div",{className:u().top,children:[(0,s.jsx)("a",{className:u().geitupianyong,children:(0,s.jsx)(t.default,{src:"/image/download.png",alt:"taobao",layout:"fill",objectFit:"contain"})}),(0,s.jsx)("div",{className:u().shousuolan,children:(0,s.jsx)("button",{className:u().shousuoanliu,children:"搜索"})})]})})})}function T(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:r().xiaodaohang,children:(0,s.jsxs)("div",{className:r().xiaodaohang1,children:[(0,s.jsx)("a",{className:r().xiaodaohang2,children:"天猫"}),(0,s.jsx)("a",{className:r().xiaodaohang2,children:"淘宝直播"}),(0,s.jsx)("a",{className:r().xiaodaohang2,children:"司法拍卖"}),(0,s.jsx)("a",{className:r().xiaodaohang3,children:"天猫超市"}),(0,s.jsx)("a",{className:r().xiaodaohang4,children:"闲鱼集市"}),(0,s.jsx)("a",{className:r().xiaodaohang4,children:"天猫国际"})]})})})}function C(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:h().div}),(0,s.jsx)("div",{className:h().div1}),(0,s.jsx)("div",{className:h().div2}),(0,s.jsx)("div",{className:h().div3})]})})}}},a=>{var n=n=>a(a.s=n);a.O(0,[160,604,355,441,684,358],()=>n(127)),_N_E=a.O()}]);